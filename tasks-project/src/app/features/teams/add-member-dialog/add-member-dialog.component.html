<h2 mat-dialog-title>הוסף חבר ל-{{ data.team.name }}</h2>

<mat-dialog-content>
  <div class="info-message">
    <mat-icon>info</mat-icon>
    <p>הזן את מספר המזהה (ID) של משתמש רשום במערכת שברצונך להוסיף לצוות. לדוגמה: אם נרשמו 3 משתמשים, ניתן להזין 1, 2 או 3.</p>
  </div>

  <form [formGroup]="memberForm">
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>מזהה משתמש (User ID)</mat-label>
      <input 
        matInput 
        type="number"
        formControlName="userId"
        autocomplete="off"
        placeholder="לדוגמה: 1, 2, 3">
      @if (memberForm.get('userId')?.invalid && memberForm.get('userId')?.touched) {
        <mat-error>{{ getUserIdErrorMessage() }}</mat-error>
      }
      <mat-hint>מספר שלם חיובי</mat-hint>
    </mat-form-field>

    <mat-form-field appearance="fill" class="full-width">
      <mat-label>תפקיד</mat-label>
      <mat-select formControlName="role">
        <mat-option value="member">חבר</mat-option>
        <mat-option value="owner">מנהל</mat-option>
      </mat-select>
    </mat-form-field>
  </form>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()" [disabled]="isLoading">
    ביטול
  </button>
  <button 
    mat-raised-button 
    color="primary" 
    (click)="onSubmit()"
    [disabled]="memberForm.invalid || isLoading">
    @if (isLoading) {
      <mat-spinner diameter="20"></mat-spinner>
    } @else {
      <span>הוסף חבר</span>
    }
  </button>
</mat-dialog-actions>
